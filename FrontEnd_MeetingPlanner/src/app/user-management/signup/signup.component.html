<app-loader *ngIf="isLoading"></app-loader>
<h2>Sign Up</h2>
<div class="row">
  <div class="col-12">
    <input type="checkbox" class="admin-checkbox" id="userType" [(ngModel)]="isAdmin" name="userType" (change)="setUserName()">Signup as an Admin

    <br/>
    <label>First Name</label>
    <input type="text" id="inputFirstName" class="form-control" [(ngModel)]="firstName" placeholder="Enter first name" required>
    
    <label>Last Name</label>
    <input type="text" id="inputLastName" class="form-control" [(ngModel)]="lastName" placeholder="Enter last name" required>
    
    <label>User Name</label>
    <input type="text" id="inputUserName" class="form-control" [(ngModel)]="userName" placeholder="Enter user name"
      (focusout)="setUserName()" required>

      <label>Email</label>
    <input type="email" id="signUpEmail" class="form-control" [(ngModel)]="email" placeholder="Enter email address" required>

    <label>Password</label>
    <input type="password" id="signupPassword" class="form-control" [(ngModel)]="password" placeholder="Enter password - minimum 8 chracters length" required>
    
    <label>Select Country</label>
    <select class="form-control" id="inputCountry" [(ngModel)]="selectedCountry" name="country"
      (change)="onCountryChange()">
      <option *ngFor="let country of countryList" [value]="country.code">{{country.name}}</option>
    </select>

    <label>Mobile</label>
    <div class="input-group">
      <div class="input-group-text">+{{countryCode}}</div>
      <input type="number" pattern="^\d{10}$" min="10" id="inputMobile" class="form-control" name="mobile"
        #mobile="ngModel" [(ngModel)]="mobileNumber" placeholder="Enter 10 digit mobile number" required>
      <br>
      <div [hidden]="mobile.valid || mobile.pristine" class="alert alert-danger col-12">
        Mobile Number must be 10 numbers
      </div>
    </div>

    <button class="btn btn-lg btn-primary btn-block" type="button" (click)="signUp()">Sign Up</button>

  </div>
</div>